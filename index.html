<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Herramientas de Ciberseguridad</title>
  <!-- Firebase App (core Firebase SDK) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <!-- Firebase Firestore -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <!-- Firebase Authentication -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>🔐 Cybersecurity Tools Hub - SecGuide</h1>
      <p>Explora las mejores herramientas y aprende cómo funcionan</p>
    </div>

    <div class="nav-buttons">
      <button id="backButton" class="nav-button" onclick="goBack()" style="display:none;">← Volver</button>
      <button id="homeButton" class="nav-button" onclick="showHome()">🏠 Inicio</button>
      <button id="loginButton" class="nav-button" onclick="showLogin()">🔐 Iniciar Sesión</button>
      <button id="registerButton" class="nav-button" onclick="showRegister()">📝 Registrarse</button>
      <button id="adminButton" class="nav-button" style="display:none;" onclick="showAdminPanel()">⚙️
        Administración</button>
      <button id="userPanelButton" class="nav-button" style="display:none;" onclick="showUserPanel()">👤 Mi
        Panel</button>
      <button id="logoutButton" class="nav-button" style="display:none;" onclick="logout()">🚪 Cerrar Sesión</button>
    </div>

    <div id="statusMessage"></div>

    <!-- Vista principal -->
    <div id="categoriesView" class="categories-grid">
      <div class="loading">Cargando categorías...</div>
    </div>
    <div id="toolsView" class="tools-grid" style="display:none"></div>
    <div id="toolDetailView" style="display:none"></div>

    <!-- Formularios de autenticación -->
    <div id="loginView" style="display:none;">
      <div class="auth-form">
        <h2>Iniciar Sesión</h2>
        <div class="form-group">
          <label for="loginEmail">Correo electrónico</label>
          <input type="email" id="loginEmail" placeholder="Tu correo electrónico">
        </div>
        <div class="form-group">
          <label for="loginPassword">Contraseña</label>
          <input type="password" id="loginPassword" placeholder="Tu contraseña">
        </div>
        <button class="form-submit" onclick="login()">Iniciar Sesión</button>
        <div class="form-toggle">
          ¿No tienes cuenta? <a onclick="showRegister()">Regístrate aquí</a>
        </div>
      </div>
    </div>
    <div id="registerView" style="display:none;">
      <div class="auth-form">
        <h2>Crear Cuenta</h2>
        <div class="form-group">
          <label for="registerEmail">Correo electrónico</label>
          <input type="email" id="registerEmail" placeholder="Tu correo electrónico">
        </div>
        <div class="form-group">
          <label for="registerPassword">Contraseña</label>
          <input type="password" id="registerPassword" placeholder="Crea una contraseña segura">
        </div>
        <div class="form-group">
          <label for="registerName">Nombre completo</label>
          <input type="text" id="registerName" placeholder="Tu nombre completo">
        </div>
        <button class="form-submit" onclick="register()">Crear Cuenta</button>
        <div class="form-toggle">
          ¿Ya tienes cuenta? <a onclick="showLogin()">Inicia sesión aquí</a>
        </div>
      </div>
    </div>
    <!-- Panel de administración -->
    <div>
      <button onclick="mostrarAdminPanelHtml()"></button>
    </div>
    <div id="adminPanelView" style="display:none;">
      <div id ="adminContainer" class="admin-panel">
        <h2>Panel de Administración</h2>

        <div class="admin-actions">
          <button class="admin-action-btn" onclick="showAddCategoryForm()">➕ Añadir Categoría</button>
          <button class="admin-action-btn" onclick="showAddToolForm()">🛠️ Añadir Herramienta</button>
          <button class="admin-action-btn" onclick="loadPendingTools()">⏳ Herramientas Pendientes</button>
        </div>

        <div id="addCategoryForm" class="admin-form" style="display:none;">
          <h3>Añadir Nueva Categoría</h3>
          <div class="form-row">
            <input type="text" id="categoryName" placeholder="Nombre de la categoría">
          </div>
          <div class="form-row">
            <input type="text" id="categoryDesc" placeholder="Descripción de la categoría">
          </div>
          <button class="form-submit" onclick="addCategory()">Guardar Categoría</button>
        </div>

        <div id="addToolForm" class="admin-form" style="display:none;">
          <h3>Añadir Nueva Herramienta</h3>
          <div class="form-row">
            <input type="text" id="toolName" placeholder="Nombre de la herramienta">
          </div>
          <div class="form-row">
            <input type="text" id="toolBrief" placeholder="Descripción breve">
          </div>
          <div class="form-row">
            <select id="toolCategory">
              <option value="">Selecciona una categoría</option>
            </select>
          </div>
          <div class="form-row">
            <input type="text" id="toolFunc" placeholder="Funcionalidades">
          </div>
          <div class="form-row">
            <input type="text" id="toolPlatform" placeholder="Plataformas (Win/Linux/macOS)">
          </div>
          <div class="form-row">
            <input type="text" id="toolLicense" placeholder="Licencia">
          </div>
          <div class="form-row">
            <input type="text" id="toolLink" placeholder="Enlace oficial">
          </div>
          <div class=" form-row">
            <textarea id="toolArticle" placeholder="Artículo descriptivo"></textarea>
          </div>
          <button class="form-submit" onclick="addTool()">Guardar Herramienta</button>
        </div>
        <div id="adminCategoriesList" class="admin-list"></div>
        <div id="adminToolsList" class="admin-list"></div>
        <div id="pendingToolsList" class="admin-list"></div>
      </div>
    </div>

    <!-- Panel de usuario -->
    <div id="userPanelView" style="display:none;">
      <div class="user-panel">
        <h2>Mi Panel de Usuario</h2>

        <div class="admin-actions">
          <button class="admin-action-btn" onclick="showUserAddToolForm()">➕ Sugerir Herramienta</button>
        </div>

        <div id="userAddToolForm" class="admin-form" style="display:none;">
          <h3>Sugerir Nueva Herramienta</h3>
          <div class="form-row">
            <input type="text" id="userToolName" placeholder="Nombre de la herramienta">
          </div>
          <div class="form-row">
            <input type="text" id="userToolBrief" placeholder="Descripción breve">
          </div>
          <div class="form-row">
            <select id="userToolCategory">
              <option value="">Selecciona una categoría</option>
            </select>
          </div>
          <div class="form-row">
            <input type="text" id="userToolFunc" placeholder="Funcionalidades">
          </div>
          <div class="form-row">
            <input type="text" id="userToolPlatform" placeholder="Plataformas (Win/Linux/macOS)">
          </div>
          <div class="form-row">
            <input type="text" id="userToolLicense" placeholder="Licencia">
          </div>
          <div class="form-row">
            <input type="text" id="userToolLink" placeholder="Enlace oficial">
          </div>
          <div class="form-row">
            <textarea id="userToolArticle" placeholder="Artículo descriptivo"></textarea>
          </div>
          <button class="form-submit" onclick="suggestTool()">Enviar Sugerencia</button>
        </div>

        <h3>Mis herramientas sugeridas</h3>
        <div id="userToolsList" class="admin-list"></div>
      </div>
    </div>
  </div>

  <script src="script.js">
  </script>
</body>

</html>